<div class="main-div">
    <app-admin-layout></app-admin-layout>
    <app-admin-table (search)="onSearchPlan($event)" (pageChange)="onPageChange($event)"
        (itemsPerPageChange)="onItemsPerPageChange($event)" [totalItems]="plansCount">

        <div class="btn-div">
            <button mat-raised-button color="primary" class="createPlan-btn" (click)="onCreateNewPlan()">CREATE NEW
                PLAN</button>
        </div>

        <mat-table [dataSource]="plans" class="mat-elevation-z8">
            <ng-container matColumnDef="planName">
                <mat-header-cell *matHeaderCellDef>Plan Name</mat-header-cell>
                <mat-cell *matCellDef="let plan; let i = index" class="data">{{ plan.planName }}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="amount" class="heading">
                <mat-header-cell *matHeaderCellDef>Amount</mat-header-cell>
                <mat-cell *matCellDef="let plan">${{ plan.amount }}.00</mat-cell>
            </ng-container>

            <ng-container matColumnDef="duration" class="heading">
                <mat-header-cell *matHeaderCellDef>Duration</mat-header-cell>
                <mat-cell *matCellDef="let plan">
                    <p>{{ plan.duration }}</p>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="status" class="heading">
                <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
                <mat-cell *matCellDef="let plan"
                    [style.color]="plan.status === 'Active' ? 'rgb(63, 81, 181)' : 'rgb(244, 67, 54)'">
                    {{ plan.status }}
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="actions" class="heading">
                <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                <mat-cell *matCellDef="let plan">
                    <mat-icon class="mat-18 delete-icon" (click)="onDeletePlan(plan._id)">delete</mat-icon>
                    <mat-icon class="mat-18 edit-icon" (click)="onEditPlan(plan._id)">edit</mat-icon>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="['planName', 'amount', 'duration', 'status', 'actions']"></mat-header-row>
            <mat-row *matRowDef="let row; columns: ['planName', 'amount', 'duration', 'status', 'actions']"></mat-row>
        </mat-table>
    </app-admin-table>

</div>